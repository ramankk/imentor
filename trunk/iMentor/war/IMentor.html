<!doctype html>
<!-- The DOCTYPE declaration above will set the    -->
<!-- browser's rendering engine into               -->
<!-- "Standards Mode". Replacing this declaration  -->
<!-- with a "Quirks Mode" doctype may lead to some -->
<!-- differences in layout.                        -->

<html>
  <body>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <link type="text/css" rel="stylesheet" href="IMentor.css">
    <title>iMentor</title>
    <script type="text/javascript" language="javascript" src="imentor/imentor.nocache.js"></script>

    <iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1' style="position:absolute;width:0;height:0;border:0"></iframe>
    
    <!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
    <noscript>
      <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
        Your web browser must have JavaScript enabled
        in order for this application to display correctly.
      </div>
    </noscript>
	
	<div id="fb-root"></div>
	<script>
  		window.fbAsyncInit = function() {
    		FB.init({appId: '139577986094709', status: true, cookie: true,
             xfbml: true});
             
            FB.getLoginStatus(function(response) {
				onStatus(response); // once on page load
  				FB.Event.subscribe('auth.statusChange', onStatus); // every status change
			});
		};
		
  		(function() {
    	var e = document.createElement('script'); e.async = true;
    	e.src = document.location.protocol +
      		'//connect.facebook.net/en_US/all.js';
    	document.getElementById('fb-root').appendChild(e);
  		}());
	</script>
	
	
	<script>
	
	/**
	*a href="#" onClick="alert('fb-uid :: ' + FB.getSession().uid)">Show UID</a>
	*/
	
/**
 * This assumes the user is logged in and renders their profile picture,
 * name and a logout link.
 */
function showAccountInfo() {
  FB.api(
    {
      method: 'fql.query',
      query: 'SELECT name, pic_square FROM user WHERE uid='+FB.getSession().uid
    },
    function(response) {
      document.getElementById('account-info').innerHTML = (
        '<img src="' + response[0].pic_square + '"> ' +
        response[0].name +
        ' <img onclick="FB.logout()" style="cursor: pointer;"' +
            'src="https://s-static.ak.fbcdn.net/rsrc.php/z2Y31/hash/cxrz4k7j.gif">'
      );
    }
  );
}

/**
 * This assumes the user is logged out, and renders a login button.
 */
function showLoginButton() {
  document.getElementById('account-info').innerHTML = (
    '<img onclick="FB.login()" style="cursor: pointer;"' +
         'src="https://s-static.ak.fbcdn.net/rsrc.php/zB6N8/hash/4li2k73z.gif">'
  );
}

/**
 * This will be called once on page load, and every time the status changes.
 */
function onStatus(response) {
  if (response.session) {
    showAccountInfo();
  } else {
    showLoginButton();
  }
}
</script>
<div id="log">
</div>
<div id="header"></div>
	  </body>
</html>
